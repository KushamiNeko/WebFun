[{"/home/neko/programming_projects/tools/javascript/happy/app/src/index.js":"1","/home/neko/programming_projects/tools/javascript/happy/app/src/App.js":"2","/home/neko/programming_projects/tools/javascript/happy/app/src/reportWebVitals.js":"3","/home/neko/programming_projects/tools/javascript/happy/app/src/styles/layout.js":"4","/home/neko/programming_projects/tools/javascript/happy/app/src/styles/typography.js":"5","/home/neko/programming_projects/tools/javascript/happy/app/src/components/navbar.js":"6","/home/neko/programming_projects/tools/javascript/happy/app/src/styles/shadows.js":"7","/home/neko/programming_projects/tools/javascript/happy/app/src/view/practice.js":"8","/home/neko/programming_projects/tools/javascript/happy/app/src/styles/common.js":"9","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/common.js":"10","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/labelInput.js":"11","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/checkButton.js":"12","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/button.js":"13","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/separator.js":"14","/home/neko/programming_projects/tools/javascript/happy/app/src/components/sidebar.js":"15","/home/neko/programming_projects/tools/javascript/happy/app/src/components/modal.js":"16","/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartInputs.js":"17","/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartCanvas.js":"18","/home/neko/programming_projects/tools/javascript/happy/app/src/store.js":"19","/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/index.js":"20","/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/symbolsReducer.js":"21","/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/chartReducer.js":"22","/home/neko/programming_projects/tools/javascript/happy/app/src/actions/chartActions.js":"23","/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/parametersReducer.js":"24","/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartParameters.js":"25","/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartRange.js":"26","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/title.js":"27","/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/inspectReducer.js":"28","/home/neko/programming_projects/tools/javascript/happy/app/src/actions/inspectAction.js":"29","/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartInspect.js":"30","/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/tradeReducer.js":"31","/home/neko/programming_projects/tools/javascript/happy/app/src/actions/tradeActions.js":"32","/home/neko/programming_projects/tools/javascript/happy/app/src/components/tradeInputs.js":"33","/home/neko/programming_projects/tools/javascript/happy/app/src/view/statistic.js":"34","/home/neko/programming_projects/tools/javascript/happy/app/src/components/statisticInputs.js":"35","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/optionTable.js":"36","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/optionTableSet.js":"37"},{"size":500,"mtime":1608577493545,"results":"38","hashOfConfig":"39"},{"size":385,"mtime":1609291570875,"results":"40","hashOfConfig":"39"},{"size":362,"mtime":1608577493545,"results":"41","hashOfConfig":"39"},{"size":5949,"mtime":1608589590547,"results":"42","hashOfConfig":"39"},{"size":3506,"mtime":1608590045003,"results":"43","hashOfConfig":"39"},{"size":1035,"mtime":1608591090903,"results":"44","hashOfConfig":"39"},{"size":1458,"mtime":1608589583504,"results":"45","hashOfConfig":"39"},{"size":957,"mtime":1609167199440,"results":"46","hashOfConfig":"39"},{"size":729,"mtime":1608690851494,"results":"47","hashOfConfig":"39"},{"size":225,"mtime":1608597603125,"results":"48","hashOfConfig":"39"},{"size":2224,"mtime":1609269129926,"results":"49","hashOfConfig":"39"},{"size":837,"mtime":1609164004271,"results":"50","hashOfConfig":"39"},{"size":674,"mtime":1608648828007,"results":"51","hashOfConfig":"39"},{"size":265,"mtime":1608648888600,"results":"52","hashOfConfig":"39"},{"size":375,"mtime":1609007070885,"results":"53","hashOfConfig":"39"},{"size":781,"mtime":1609004993662,"results":"54","hashOfConfig":"39"},{"size":8076,"mtime":1609270012384,"results":"55","hashOfConfig":"39"},{"size":9406,"mtime":1609262581101,"results":"56","hashOfConfig":"39"},{"size":413,"mtime":1608770387630,"results":"57","hashOfConfig":"39"},{"size":371,"mtime":1609164241378,"results":"58","hashOfConfig":"39"},{"size":1708,"mtime":1609292580413,"results":"59","hashOfConfig":"39"},{"size":3176,"mtime":1609262254981,"results":"60","hashOfConfig":"39"},{"size":6360,"mtime":1609262640613,"results":"61","hashOfConfig":"39"},{"size":720,"mtime":1609009827987,"results":"62","hashOfConfig":"39"},{"size":3390,"mtime":1609166114752,"results":"63","hashOfConfig":"39"},{"size":1819,"mtime":1609268652023,"results":"64","hashOfConfig":"39"},{"size":353,"mtime":1609163212644,"results":"65","hashOfConfig":"39"},{"size":944,"mtime":1609023691226,"results":"66","hashOfConfig":"39"},{"size":422,"mtime":1609023522991,"results":"67","hashOfConfig":"39"},{"size":997,"mtime":1609023788898,"results":"68","hashOfConfig":"39"},{"size":1076,"mtime":1609182967603,"results":"69","hashOfConfig":"39"},{"size":6141,"mtime":1609182861831,"results":"70","hashOfConfig":"39"},{"size":5116,"mtime":1609175162175,"results":"71","hashOfConfig":"39"},{"size":565,"mtime":1609269365707,"results":"72","hashOfConfig":"39"},{"size":2100,"mtime":1609271433453,"results":"73","hashOfConfig":"39"},{"size":1752,"mtime":1609270389736,"results":"74","hashOfConfig":"39"},{"size":1551,"mtime":1609292073733,"results":"75","hashOfConfig":"39"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"1n8fl57",{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"78"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"78"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"78"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"148","messages":"149","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/neko/programming_projects/tools/javascript/happy/app/src/index.js",[],["154","155"],"/home/neko/programming_projects/tools/javascript/happy/app/src/App.js",["156"],"/home/neko/programming_projects/tools/javascript/happy/app/src/reportWebVitals.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/styles/layout.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/styles/typography.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/navbar.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/styles/shadows.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/view/practice.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/styles/common.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/common.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/labelInput.js",["157","158"],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/checkButton.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/button.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/separator.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/sidebar.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/modal.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartInputs.js",["159","160"],"import React, { useState, useRef, useEffect } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport LabelInput from \"./inputs/labelInput\";\nimport CheckButton from \"./inputs/checkButton\";\nimport Button from \"./inputs/button\";\nimport Separator from \"./inputs/separator\";\nimport OptionTableSet from \"./inputs/optionTableSet\";\n\nimport SideBar from \"./sidebar\";\n\nimport {\n  chartSetSymbol,\n  chartSetFrequency,\n  chartSetShowRecords,\n  chartSetInputs,\n  chartForward,\n  chartBackward,\n  chartRandomDate,\n} from \"../actions/chartActions\";\n\nimport { tradeShowPanel } from \"../actions/tradeActions\";\n\nfunction ChartInputs(props) {\n  const [state, setState] = useState({\n    currentSetIndex: 0,\n    currentSetItems: Object.values(props.symbols)[0],\n    selectedItemIndex: 0,\n  });\n\n  const [inputs, setInputs] = useState({\n    date: \"\",\n    freq: \"d\",\n    book: \"01\",\n  });\n\n  const errors = useRef({\n    date: false,\n    freq: false,\n    book: false,\n  });\n\n  const focused = useRef({\n    date: false,\n    freq: false,\n    book: false,\n  });\n\n  const keyStroke = useRef(\"\");\n\n  function changeSet(index) {\n    if (props.chart.isWorking) {\n      return;\n    }\n\n    let newIndex = state.currentSetIndex + index;\n    let finalIndex = Object.keys(props.symbols).length - 1;\n\n    if (newIndex < 0) {\n      newIndex = finalIndex;\n    }\n\n    if (newIndex > finalIndex) {\n      newIndex = 0;\n    }\n\n    const items = Object.values(props.symbols)[newIndex];\n\n    props.chartSetSymbol(items[0]);\n\n    setState({\n      ...state,\n      selectedItemIndex: 0,\n      currentSetIndex: newIndex,\n      currentSetItems: items,\n    });\n  }\n\n  function setSelectedItemIndex(index) {\n    if (props.chart.isWorking) {\n      return;\n    }\n\n    if (index < 0 || index >= state.currentSetItems.length) {\n      return;\n    }\n\n    setState({\n      ...state,\n      selectedItemIndex: index,\n    });\n\n    props.chartSetSymbol(state.currentSetItems[index]);\n  }\n\n  function makeInputsRequest() {\n    if (errors.current.date || errors.current.freq || errors.current.book) {\n      console.error(\"inputs error\");\n    } else {\n      props.chartSetInputs(\n        state.currentSetItems[state.selectedItemIndex],\n        inputs.date,\n        inputs.freq,\n        inputs.book\n      );\n    }\n  }\n\n  function keydownHandler(e) {\n    if (e === null) {\n      return;\n    }\n\n    if (e.which !== 32 && props.trade.showPanel) {\n      return;\n    }\n\n    if (props.chart.isWorking) {\n      return;\n    }\n\n    if (\n      e.which !== 13 &&\n      (focused.current.date || focused.current.freq || focused.current.book)\n    ) {\n      return;\n    }\n\n    if (e.which === 38 || e.which === 40) {\n      if (state.selectedItemIndex === null) {\n        return;\n      }\n\n      let index;\n      if (e.which === 38) {\n        index = state.selectedItemIndex - 1;\n        if (index < 0) {\n          index = state.currentSetItems.length - 1;\n        }\n      } else if (e.which === 40) {\n        index = state.selectedItemIndex + 1;\n        if (index > state.currentSetItems.length - 1) {\n          index = 0;\n        }\n      }\n\n      setSelectedItemIndex(index);\n    } else {\n      if (e.which === 37) {\n        props.chartBackward();\n      } else if (e.which === 39) {\n        props.chartForward();\n      } else if (e.which >= 48 && e.which <= 57) {\n        // number keys 48: 0, 49-57 : 1-9\n        keyStroke.current += (e.which - 48).toString();\n\n        setTimeout(() => {\n          if (keyStroke.current !== \"\") {\n            setSelectedItemIndex(parseInt(keyStroke.current) - 1);\n          }\n\n          keyStroke.current = \"\";\n        }, 250);\n      } else {\n        //console.log(e.which);\n        switch (e.which) {\n          case 72:\n            // h\n            //setInputs({\n            //...inputs,\n            //freq: \"h\",\n            //});\n            //props.chartSetFrequency(\"h\");\n            break;\n          case 68:\n            // d\n            setInputs({\n              ...inputs,\n              freq: \"d\",\n            });\n            props.chartSetFrequency(\"d\");\n            break;\n          case 87:\n            // w\n            setInputs({\n              ...inputs,\n              freq: \"w\",\n            });\n            props.chartSetFrequency(\"w\");\n            break;\n          case 77:\n            // m\n            setInputs({\n              ...inputs,\n              freq: \"m\",\n            });\n            props.chartSetFrequency(\"m\");\n            break;\n          case 13:\n            // enter\n            makeInputsRequest();\n            break;\n          case 32:\n            // space\n            props.tradeShowPanel(!props.trade.showPanel);\n            break;\n          default:\n            break;\n        }\n      }\n    }\n  }\n\n  useEffect(() => {\n    console.log(\"chart inputs init\");\n\n    const now = new Date();\n    const date = `${now.getFullYear()}${(now.getMonth() + 1)\n      .toString()\n      .padStart(2, \"0\")}${now.getDate().toString().padStart(2, \"0\")}`;\n\n    props.chartSetInputs(\n      state.currentSetItems[state.selectedItemIndex],\n      date,\n      inputs.freq,\n      inputs.book\n    );\n  }, []);\n\n  useEffect(() => {\n    console.log(\"chart inputs listener\");\n\n    window.addEventListener(\"keydown\", keydownHandler);\n    return () => window.removeEventListener(\"keydown\", keydownHandler);\n  });\n\n  useEffect(() => {\n    console.log(\"chart inputs quote\");\n\n    if (props.chart.quote.date) {\n      setInputs({\n        ...inputs,\n        date: props.chart.quote.date,\n      });\n    }\n  }, [props.chart.quote]);\n\n  return (\n    <SideBar>\n      <OptionTableSet\n        multiSet\n        label=\"Symbols\"\n        set={Object.keys(props.symbols)[state.currentSetIndex]}\n        items={state.currentSetItems}\n        selected={state.selectedItemIndex}\n        onChangeSet={changeSet}\n        onSelect={(index) => {\n          setSelectedItemIndex(index);\n        }}\n        showNumber\n      />\n\n      <Separator />\n\n      <Button\n        onClick={() => {\n          if (props.chart.isWorking) {\n            return;\n          }\n\n          props.chartRandomDate();\n        }}\n      >\n        random date\n      </Button>\n\n      <LabelInput\n        label=\"Date\"\n        regex=\"^[0-9]{8}$\"\n        value={inputs.date}\n        onFocus={() => (focused.current.date = true)}\n        onBlur={() => (focused.current.date = false)}\n        onKeyDown={() => {}}\n        onValueChange={(value) => {\n          setInputs({\n            ...inputs,\n            date: value.trim(),\n          });\n        }}\n        onError={(err) => {\n          errors.current.date = err;\n        }}\n      />\n\n      <LabelInput\n        label=\"Frequency\"\n        regex=\"^[hdwm]{1}$\"\n        value={inputs.freq}\n        onFocus={() => (focused.current.freq = true)}\n        onBlur={() => (focused.current.freq = false)}\n        onKeyDown={() => {}}\n        onValueChange={(value) => {\n          setInputs({\n            ...inputs,\n            freq: value.trim(),\n          });\n        }}\n        onError={(err) => {\n          errors.current.freq = err;\n        }}\n      />\n\n      <LabelInput\n        label=\"Book\"\n        regex=\"^[0-9a-zA-Z]+$\"\n        value={inputs.book}\n        onFocus={() => (focused.current.book = true)}\n        onBlur={() => (focused.current.book = false)}\n        onKeyDown={() => {}}\n        onValueChange={(value) => {\n          setInputs({\n            ...inputs,\n            book: value.trim(),\n          });\n        }}\n        onError={(err) => {\n          errors.current.book = err;\n        }}\n      />\n\n      <CheckButton\n        checked={props.chart.showRecords}\n        onCheck={(active) => {\n          if (props.chart.isWorking) {\n            return;\n          }\n\n          props.chartSetShowRecords(active);\n        }}\n      >\n        show records\n      </CheckButton>\n    </SideBar>\n  );\n}\n\nconst mapStatetoProps = (state) => ({\n  symbols: state.symbols,\n  chart: state.chart,\n  trade: state.trade,\n});\n\nexport default connect(mapStatetoProps, {\n  chartSetSymbol,\n  chartSetFrequency,\n  chartSetShowRecords,\n  chartSetInputs,\n  chartForward,\n  chartBackward,\n  chartRandomDate,\n  tradeShowPanel,\n})(ChartInputs);\n","/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartCanvas.js",["161","162"],"import React, { useEffect, useRef, useState } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport {\n  chartImageRequest,\n  chartInspectRequest,\n  chartSetInspect,\n} from \"../actions/chartActions\";\n\nimport styled from \"styled-components\";\n\nimport { fontSubhead, fontBody1 } from \"../styles/typography\";\nimport { layout } from \"../styles/layout\";\nimport { noselect, willChange, transitionLiteral } from \"../styles/common\";\n\nconst Container = styled.div``;\n\nconst ChartContainer = styled.div`\n  ${layout}\n  ${noselect}\n  ${willChange(\"opacity\", \"0.075s\")}\n`;\n\nconst ChartInfo = styled.div`\n  ${fontSubhead}\n  @media (max-width: var(--media-max-width)) {\n    ${fontBody1}\n  }\n\n  ${noselect}\n  ${transitionLiteral(\"top 0.1s ease, left 0.1s ease\")}\n\n  display: ${(props) => (props.active ? \"block\" : \"none\")};\n\n  white-space: pre;\n  position: absolute;\n  left: 29%;\n  z-index: 2;\n  color: white;\n  opacity: var(--dark-primary-opacity);\n  background-color: rgba(0, 0, 0, 0.5);\n`;\n\nconst ChartCover = styled.canvas`\n  ${noselect}\n  position: absolute;\n  top: auto;\n\n  z-index: 1;\n`;\n\nconst ChartImage = styled.img`\n  max-width: 99%;\n  max-height: 100%;\n`;\n\nconst coverColor = \"rgba(0, 0, 0, 0.8)\";\nconst inspectColor = \"rgba(255, 255, 255, 0.8)\";\nconst anchorColor = \"rgba(255, 255, 255, 0.5)\";\n\nfunction ChartCanvas(props) {\n  const [state, setState] = useState({\n    showInfo: false,\n  });\n\n  const infoRef = useRef(null);\n\n  const inspectRef = useRef(null);\n  const coverRef = useRef(null);\n\n  const imageRef = useRef(null);\n\n  const drawCover = useRef({\n    left: false,\n    right: false,\n    both: false,\n  });\n\n  const drawAnchor = useRef({\n    active: false,\n    anchorX: 0,\n    anchorY: 0,\n  });\n\n  function eventXOffset(e) {\n    return e.clientX - imageRef.current.offsetLeft;\n  }\n\n  function eventYOffset(e) {\n    return e.clientY - imageRef.current.offsetTop;\n  }\n\n  function initCanvasSize() {\n    //inspectRef.current.width = Math.floor(imageRef.current.clientWidth) - 1;\n    //inspectRef.current.height = Math.floor(imageRef.current.clientHeight) - 1;\n\n    //coverRef.current.width = Math.floor(imageRef.current.clientWidth) - 1;\n    //coverRef.current.height = Math.floor(imageRef.current.clientHeight) - 1;\n\n    inspectRef.current.width = imageRef.current.clientWidth;\n    inspectRef.current.height = imageRef.current.clientHeight;\n\n    coverRef.current.width = imageRef.current.clientWidth;\n    coverRef.current.height = imageRef.current.clientHeight;\n  }\n\n  function singleCoverR(e) {\n    const cctx = coverRef.current.getContext(\"2d\");\n\n    cctx.clearRect(0, 0, coverRef.current.width, coverRef.current.height);\n    cctx.fillStyle = coverColor;\n\n    cctx.fillRect(\n      eventXOffset(e),\n      0,\n      coverRef.current.width - eventXOffset(e),\n      coverRef.current.height\n    );\n  }\n\n  function singleCoverL(e) {\n    const cctx = coverRef.current.getContext(\"2d\");\n\n    cctx.clearRect(0, 0, coverRef.current.width, coverRef.current.height);\n    cctx.fillStyle = coverColor;\n\n    cctx.fillRect(0, 0, eventXOffset(e), coverRef.current.height);\n  }\n\n  function doubleCover(e) {\n    const cctx = coverRef.current.getContext(\"2d\");\n\n    cctx.clearRect(0, 0, coverRef.current.width, coverRef.current.height);\n    cctx.fillStyle = coverColor;\n\n    if (eventXOffset(e) >= drawAnchor.current.anchorX) {\n      cctx.fillRect(0, 0, drawAnchor.current.anchorX, coverRef.current.height);\n\n      cctx.fillRect(\n        eventXOffset(e),\n        0,\n        coverRef.current.width - eventXOffset(e),\n        coverRef.current.height\n      );\n    } else {\n      cctx.fillRect(0, 0, eventXOffset(e), coverRef.current.height);\n\n      cctx.fillRect(\n        drawAnchor.current.anchorX,\n        0,\n        coverRef.current.width - drawAnchor.current.anchorX,\n        coverRef.current.height\n      );\n    }\n  }\n\n  function inspectInfo(e) {\n    props.chartSetInspect();\n\n    const x = Math.max(\n      Math.min(eventXOffset(e) / inspectRef.current.width, 1),\n      0\n    );\n\n    const y = Math.max(\n      Math.min(\n        (inspectRef.current.height - eventYOffset(e)) /\n          inspectRef.current.height,\n        1\n      ),\n      0\n    );\n\n    if (drawAnchor.current.active) {\n      const ax = Math.max(\n        Math.min(drawAnchor.current.anchorX / inspectRef.current.width, 1),\n        0\n      );\n\n      const ay = Math.max(\n        Math.min(\n          (inspectRef.current.height - drawAnchor.current.anchorY) /\n            inspectRef.current.height,\n          1\n        ),\n        0\n      );\n\n      props.chartInspectRequest(\n        (data) => {\n          infoRef.current.innerHTML = data;\n        },\n        x,\n        y,\n        ax,\n        ay\n      );\n    } else {\n      props.chartInspectRequest(\n        (data) => {\n          infoRef.current.innerHTML = data;\n        },\n        x,\n        y\n      );\n    }\n\n    //const offset = 20;\n\n    //let l;\n    //if (eventXOffset(e) > inspectRef.current.width / 2) {\n    //  l = `${e.clientX - infoRef.current.clientWidth - offset}px`;\n    //} else {\n    //  l = `${e.clientX + offset}px`;\n    //}\n\n    //infoRef.current.style.left = l;\n\n    //let t;\n    //if (eventYOffset(e) > inspectRef.current.height / 2) {\n    //  t = `${e.clientY - infoRef.current.offsetHeight - offset}px`;\n    //} else {\n    //  t = `${e.clientY + offset}px`;\n    //}\n\n    //infoRef.current.style.top = t;\n  }\n\n  function inspect(e) {\n    const ictx = inspectRef.current.getContext(\"2d\");\n\n    ictx.clearRect(0, 0, inspectRef.current.width, inspectRef.current.height);\n    ictx.strokeStyle = inspectColor;\n\n    ictx.beginPath();\n    ictx.moveTo(eventXOffset(e), 0);\n\n    ictx.lineTo(eventXOffset(e), inspectRef.current.height);\n\n    ictx.stroke();\n    ictx.closePath();\n\n    ictx.beginPath();\n\n    ictx.moveTo(0, eventYOffset(e));\n\n    ictx.lineTo(inspectRef.current.width, eventYOffset(e));\n\n    ictx.stroke();\n    ictx.closePath();\n  }\n\n  function calcAnchor() {\n    const ictx = inspectRef.current.getContext(\"2d\");\n\n    ictx.strokeStyle = anchorColor;\n\n    ictx.beginPath();\n    ictx.moveTo(drawAnchor.current.anchorX, 0);\n\n    ictx.lineTo(drawAnchor.current.anchorX, inspectRef.current.height);\n\n    ictx.stroke();\n    ictx.closePath();\n\n    ictx.beginPath();\n\n    ictx.moveTo(0, drawAnchor.current.anchorY);\n\n    ictx.lineTo(inspectRef.current.width, drawAnchor.current.anchorY);\n\n    ictx.stroke();\n    ictx.closePath();\n  }\n\n  function handlerUp() {\n    drawCover.current.left = false;\n    drawCover.current.right = false;\n    drawCover.current.both = false;\n\n    drawAnchor.current.active = false;\n  }\n\n  function handlerMove(e) {\n    if (!state.showInfo) {\n      setState({ ...state, showInfo: true });\n    }\n\n    inspectInfo(e);\n\n    if (drawCover.current.both) {\n      doubleCover(e);\n    } else if (drawCover.current.left) {\n      singleCoverL(e);\n    } else if (drawCover.current.right) {\n      singleCoverR(e);\n    }\n\n    inspect(e);\n\n    if (drawAnchor.current.active) {\n      calcAnchor(e);\n    }\n  }\n\n  function handlerDown(e) {\n    const ictx = inspectRef.current.getContext(\"2d\");\n    const cctx = coverRef.current.getContext(\"2d\");\n\n    ictx.clearRect(0, 0, inspectRef.current.width, inspectRef.current.height);\n    cctx.clearRect(0, 0, inspectRef.current.width, inspectRef.current.height);\n\n    drawCover.current.left = false;\n    drawCover.current.right = false;\n    drawCover.current.both = false;\n\n    if (e.ctrlKey) {\n      drawCover.current.left = true;\n    } else if (e.shiftKey) {\n      drawCover.current.right = true;\n    } else if (e.altKey) {\n      drawCover.current.both = true;\n    }\n\n    drawAnchor.current.active = true;\n    drawAnchor.current.anchorX = eventXOffset(e);\n    drawAnchor.current.anchorY = eventYOffset(e);\n\n    if (state.showInfo) {\n      setState({\n        ...state,\n        showInfo: false,\n      });\n    }\n  }\n\n  useEffect(() => {\n    console.log(\"chart image reload\");\n\n    const imgLoaded = () => {\n      initCanvasSize();\n    };\n\n    const imgRef = imageRef.current;\n\n    imgRef.addEventListener(\"load\", imgLoaded);\n\n    window.addEventListener(\"resize\", () => {\n      initCanvasSize();\n    });\n\n    window.addEventListener(\"mouseup\", handlerUp);\n    window.addEventListener(\"mousemove\", handlerMove);\n    window.addEventListener(\"mousedown\", handlerDown);\n\n    return () => {\n      imgRef.removeEventListener(\"load\", imgLoaded);\n      window.removeEventListener(\"mouseup\", handlerUp);\n      window.removeEventListener(\"mousemove\", handlerMove);\n      window.removeEventListener(\"mousedown\", handlerDown);\n    };\n  }, [state.showInfo]);\n\n  useEffect(() => {\n    console.log(\"useEffect chart request\");\n    props.chartImageRequest();\n  }, [\n    props.chart.function,\n    props.chart.symbol,\n    props.chart.date,\n    props.chart.frequency,\n    props.chart.range,\n    props.chart.book,\n    props.chart.showRecords,\n    props.chart.parameters,\n    props.chart.timestamp,\n  ]);\n\n  return (\n    <>\n      <Container>\n        <ChartInfo ref={infoRef} active={state.showInfo}></ChartInfo>\n        <ChartContainer>\n          <ChartCover ref={inspectRef} />\n          <ChartCover ref={coverRef} />\n          <ChartImage ref={imageRef} src={props.chart.image} />\n        </ChartContainer>\n      </Container>\n    </>\n  );\n}\n\nconst mapStatetoProps = (state) => ({\n  symbols: state.symbols,\n  chart: state.chart,\n});\n\nexport default connect(mapStatetoProps, {\n  chartImageRequest,\n  chartInspectRequest,\n  chartSetInspect,\n})(ChartCanvas);\n","/home/neko/programming_projects/tools/javascript/happy/app/src/store.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/index.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/symbolsReducer.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/chartReducer.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/actions/chartActions.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/parametersReducer.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartParameters.js",["163","164"],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartRange.js",["165"],"import { useState, useEffect } from \"react\";\n\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\n\nimport { chartSetRange } from \"../actions/chartActions\";\n\nimport { layoutVertical } from \"../styles/layout\";\n\nimport Title from \"./inputs/title\";\nimport CheckButton from \"./inputs/checkButton\";\nimport Separator from \"./inputs/separator\";\n\nconst Container = styled.div`\n  ${layoutVertical}\n  min-width: 212px;\n`;\n\nconst rangePresetDaily = [\"3M\", \"6M\", \"9M\", \"1Y\"];\nconst rangePresetWeekly = [\"3Y\", \"4Y\", \"5Y\"];\nconst rangePresetMonthly = [\"15Y\", \"18Y\", \"20Y\"];\n\nfunction ChartRange(props) {\n  const [state, setState] = useState({\n    rangeOptions: [],\n  });\n\n  useEffect(() => {\n    if (props.chart.frequency === \"d\") {\n      setState({\n        ...state,\n        rangeOptions: rangePresetDaily,\n      });\n    } else if (props.chart.frequency === \"w\") {\n      setState({\n        ...state,\n        rangeOptions: rangePresetWeekly,\n      });\n    } else if (props.chart.frequency === \"m\") {\n      setState({\n        ...state,\n        rangeOptions: rangePresetMonthly,\n      });\n    }\n  }, [props.chart.frequency]);\n\n  return (\n    <Container>\n      <Title>Chart Range</Title>\n      <Separator />\n      {state.rangeOptions.map((item, index) => {\n        return (\n          <CheckButton\n            key={index}\n            checked={index === state.rangeOptions.indexOf(props.chart.range)}\n            onCheck={() => {\n              if (props.chart.isWorking) {\n                return;\n              }\n\n              props.chartSetRange(item);\n            }}\n          >\n            {item}\n          </CheckButton>\n        );\n      })}\n    </Container>\n  );\n}\n\nconst mapStatetoProps = (state) => ({\n  chart: state.chart,\n});\n\nexport default connect(mapStatetoProps, {\n  chartSetRange,\n})(ChartRange);\n","/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/title.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/inspectReducer.js",["166"],"/home/neko/programming_projects/tools/javascript/happy/app/src/actions/inspectAction.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/chartInspect.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/reducers/tradeReducer.js",["167"],"/home/neko/programming_projects/tools/javascript/happy/app/src/actions/tradeActions.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/tradeInputs.js",["168","169"],"/home/neko/programming_projects/tools/javascript/happy/app/src/view/statistic.js",["170"],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/statisticInputs.js",["171","172"],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/optionTable.js",[],"/home/neko/programming_projects/tools/javascript/happy/app/src/components/inputs/optionTableSet.js",[],{"ruleId":"173","replacedBy":"174"},{"ruleId":"175","replacedBy":"176"},{"ruleId":"177","severity":1,"message":"178","line":6,"column":8,"nodeType":"179","messageId":"180","endLine":6,"endColumn":21},{"ruleId":"181","severity":1,"message":"182","line":58,"column":6,"nodeType":"183","endLine":58,"endColumn":19,"suggestions":"184"},{"ruleId":"181","severity":1,"message":"185","line":65,"column":6,"nodeType":"183","endLine":65,"endColumn":13,"suggestions":"186"},{"ruleId":"181","severity":1,"message":"187","line":229,"column":6,"nodeType":"183","endLine":229,"endColumn":8,"suggestions":"188"},{"ruleId":"181","severity":1,"message":"189","line":247,"column":6,"nodeType":"183","endLine":247,"endColumn":25,"suggestions":"190"},{"ruleId":"181","severity":1,"message":"191","line":362,"column":6,"nodeType":"183","endLine":362,"endColumn":22,"suggestions":"192"},{"ruleId":"181","severity":1,"message":"185","line":367,"column":6,"nodeType":"183","endLine":377,"endColumn":4,"suggestions":"193"},{"ruleId":"181","severity":1,"message":"194","line":44,"column":6,"nodeType":"183","endLine":44,"endColumn":8,"suggestions":"195"},{"ruleId":"181","severity":1,"message":"196","line":57,"column":6,"nodeType":"183","endLine":57,"endColumn":50,"suggestions":"197"},{"ruleId":"181","severity":1,"message":"198","line":45,"column":6,"nodeType":"183","endLine":45,"endColumn":29,"suggestions":"199"},{"ruleId":"200","severity":1,"message":"201","line":22,"column":1,"nodeType":"202","endLine":55,"endColumn":2},{"ruleId":"200","severity":1,"message":"201","line":21,"column":1,"nodeType":"202","endLine":62,"endColumn":2},{"ruleId":"181","severity":1,"message":"189","line":57,"column":6,"nodeType":"183","endLine":57,"endColumn":63,"suggestions":"203"},{"ruleId":"204","severity":1,"message":"205","line":169,"column":27,"nodeType":"206","messageId":"207","endLine":169,"endColumn":29},{"ruleId":"177","severity":1,"message":"208","line":8,"column":8,"nodeType":"179","messageId":"180","endLine":8,"endColumn":13},{"ruleId":"181","severity":1,"message":"185","line":21,"column":6,"nodeType":"183","endLine":21,"endColumn":8,"suggestions":"209"},{"ruleId":"181","severity":1,"message":"198","line":28,"column":6,"nodeType":"183","endLine":28,"endColumn":25,"suggestions":"210"},"no-native-reassign",["211"],"no-negated-in-lhs",["212"],"no-unused-vars","'StatisticView' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkError'. Either include it or remove the dependency array.","ArrayExpression",["213"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["214"],"React Hook useEffect has missing dependencies: 'inputs.book', 'inputs.freq', 'props', 'state.currentSetItems', and 'state.selectedItemIndex'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["215"],"React Hook useEffect has a missing dependency: 'inputs'. Either include it or remove the dependency array. You can also do a functional update 'setInputs(i => ...)' if you only need 'inputs' in the 'setInputs' call.",["216"],"React Hook useEffect has missing dependencies: 'handlerDown' and 'handlerMove'. Either include them or remove the dependency array.",["217"],["218"],"React Hook useEffect has missing dependencies: 'props.parameters' and 'state'. Either include them or remove the dependency array. If 'setState' needs the current value of 'props.parameters', you can also switch to useReducer instead of useState and read 'props.parameters' in the reducer.",["219"],"React Hook useEffect has missing dependencies: 'props' and 'state.parameters'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["220"],"React Hook useEffect has a missing dependency: 'state'. Either include it or remove the dependency array. You can also do a functional update 'setState(s => ...)' if you only need 'state' in the 'setState' call.",["221"],"import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration",["222"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Modal' is defined but never used.",["223"],["224"],"no-global-assign","no-unsafe-negation",{"desc":"225","fix":"226"},{"desc":"227","fix":"228"},{"desc":"229","fix":"230"},{"desc":"231","fix":"232"},{"desc":"233","fix":"234"},{"desc":"235","fix":"236"},{"desc":"237","fix":"238"},{"desc":"239","fix":"240"},{"desc":"241","fix":"242"},{"desc":"243","fix":"244"},{"desc":"245","fix":"246"},{"desc":"247","fix":"248"},"Update the dependencies array to be: [checkError, props.value]",{"range":"249","text":"250"},"Update the dependencies array to be: [error, props]",{"range":"251","text":"252"},"Update the dependencies array to be: [inputs.book, inputs.freq, props, state.currentSetItems, state.selectedItemIndex]",{"range":"253","text":"254"},"Update the dependencies array to be: [inputs, props.chart.quote]",{"range":"255","text":"256"},"Update the dependencies array to be: [handlerDown, handlerMove, state.showInfo]",{"range":"257","text":"258"},"Update the dependencies array to be: [props.chart.function, props.chart.symbol, props.chart.date, props.chart.frequency, props.chart.range, props.chart.book, props.chart.showRecords, props.chart.parameters, props.chart.timestamp, props]",{"range":"259","text":"260"},"Update the dependencies array to be: [props.parameters, state]",{"range":"261","text":"262"},"Update the dependencies array to be: [state.preset, state.checkedParametersIndex, state.parameters, props]",{"range":"263","text":"264"},"Update the dependencies array to be: [props.chart.frequency, state]",{"range":"265","text":"266"},"Update the dependencies array to be: [props.chart.quote, props.chart.symbol, props.chart.book, inputs]",{"range":"267","text":"268"},"Update the dependencies array to be: [props]",{"range":"269","text":"270"},"Update the dependencies array to be: [props.trade.books, state]",{"range":"271","text":"272"},[1370,1383],"[checkError, props.value]",[1509,1516],"[error, props]",[5071,5073],"[inputs.book, inputs.freq, props, state.currentSetItems, state.selectedItemIndex]",[5465,5484],"[inputs, props.chart.quote]",[8498,8514],"[handlerDown, handlerMove, state.showInfo]",[8618,8851],"[props.chart.function, props.chart.symbol, props.chart.date, props.chart.frequency, props.chart.range, props.chart.book, props.chart.showRecords, props.chart.parameters, props.chart.timestamp, props]",[988,990],"[props.parameters, state]",[1295,1339],"[state.preset, state.checkedParametersIndex, state.parameters, props]",[1110,1133],"[props.chart.frequency, state]",[1237,1294],"[props.chart.quote, props.chart.symbol, props.chart.book, inputs]",[533,535],"[props]",[635,654],"[props.trade.books, state]"]